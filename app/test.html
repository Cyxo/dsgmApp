<!DOCTYPE html>
<html>
  <head>
    <title>Command Test</title>
    <script src="js/jquery-2.1.0.min.js"></script>
    <script>

      var globalCallback;

      function doThing(command, arguments, callback) {
        globalCallback = callback;
        var argsHtml = "";
        $.each(arguments, function(index, argument) {
          argsHtml += "<li data-argument=\"" + argument + "\"></li>";
        });
        $("#CommandRequestCommand")
          .attr("data-request-command", command)
          .html(argsHtml)
          .click();
      }

      $(document).ready(function() {
        $("#TestButton").click(function() {
          doThing(
            "print",
            ["Silly", "Billy", "Willy"],
            function() {
              $("#TestButton").html("Words were Printed");
            }
          );
        });
      });

    </script>
    <style>
      #CommandRequestCommand {
        display: none;
      }
    </style>
  </head>
  <body>
    <ul id="CommandRequestCommand">
    </ul>
    <button id="TestButton">Print Words</button>
  </body>
</html>